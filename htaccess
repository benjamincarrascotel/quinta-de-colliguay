# Force PHP 8.2 for .php files only
AddHandler application/x-httpd-ea-php82 .php

Options -Indexes
DirectoryIndex index.php

# Explicit MIME types
<IfModule mod_mime.c>
    AddType application/javascript .js
    AddType text/css .css
    AddType application/json .json
</IfModule>

<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteBase /controlmantencion/

    # Serve existing files and directories directly
    RewriteCond %{REQUEST_FILENAME} -f [OR]
    RewriteCond %{REQUEST_FILENAME} -d
    RewriteRule ^ - [L]

    # Never route build/ and storage/ through index.php
    RewriteRule ^(build|storage)/ - [L]

    # Route everything else to front controller
    RewriteRule ^ index.php [L]
</IfModule>
